## –ò–ª–∏ –≤ –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö –æ —Å–ª–æ–≤–µ virtual.

---

### –†–µ—Å—É—Ä—Å—ã:

1. [–ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?](https://www.vishalchovatiya.com/part-1-all-about-virtual-keyword-in-cpp-how-virtual-function-works-internally/) –ß–∞—Å—Ç—å I.
2. [–ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?](https://www.vishalchovatiya.com/part-2-all-about-virtual-keyword-in-cpp-how-virtual-class-works-internally/) –ß–∞—Å—Ç—å II.
3. [–ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?](https://www.vishalchovatiya.com/part-3-all-about-virtual-keyword-in-c-how-virtual-destructor-works/) –ß–∞—Å—Ç—å III.
4. [–ü—Ä–æ–±–ª–µ–º–∞ –≤—ã–∑–æ–≤–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞/–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞](https://stackoverflow.com/questions/962132/calling-virtual-functions-inside-constructors).

---

![[memory-layout-of-C-objects.png]]

---

### –î–∏—Å–∫–ª–µ–π–º–µ—Ä:

–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Å—Ç–æ–∏—Ç –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ:

- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è –æ—á–µ–Ω—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ-–∑–∞–≤–∏—Å–∏–º–∞—è.
- –°—Ç–∞–Ω–¥–∞—Ä—Ç `–°++` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏ - –æ–Ω —Ç–æ–ª—å–∫–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –µ—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

---

## –¶–µ–ª—å –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞:

–û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å: –ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?

–ò–ª–∏ –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏: –ö–∞–∫ –≤ `–°++` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è?

---
## –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è:

1. [[notes/interview-questions-shared/questions/–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#1. –î–ª—è —á–µ–≥–æ –Ω–∞–º –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?|1. –î–ª—è —á–µ–≥–æ –Ω–∞–º –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?]]
2. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#2. –ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?|2. –ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?]]
	1. [[notes/interview-questions-shared/questions/–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#2.1. –ù–µ–±–æ–ª—å—à–æ–π FAQ –ø—Ä–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã.|2.1. –ù–µ–±–æ–ª—å—à–æ–π FAQ –ø—Ä–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã.]]
3. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —á–∏—Å—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?|3.–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —á–∏—Å—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?]]
4. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.|4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.]]
5. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#5. –ó–∞—á–µ–º –Ω–∞–º –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ö–ª–∞—Å—Å—ã/–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ?|5. –ó–∞—á–µ–º –Ω–∞–º –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ö–ª–∞—Å—Å—ã/–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ?]]
    1. [[notes/interview-questions-shared/questions/–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#5.1. –ü—Ä–æ–±–ª–µ–º–∞.|5.1. –ü—Ä–æ–±–ª–µ–º–∞.]]
    2. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#5.2. –†–µ—à–µ–Ω–∏–µ.|5.2. –†–µ—à–µ–Ω–∏–µ.]]
6. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#6. –ö–∞–∫ –∞–¥—Ä–µ—Å–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏?|6. –ö–∞–∫ –∞–¥—Ä–µ—Å–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏?]]
7. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ.|7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ.]]
8. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#8. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã?|8. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã?]]
9. [[–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#9. –ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç?|9. –ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç?]]
10. [[notes/interview-questions-shared/questions/–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#10. –†–∞–∑–±–æ—Ä –∫–æ–¥–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º.|10. –†–∞–∑–±–æ—Ä –∫–æ–¥–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º]]
11. [[notes/interview-questions-shared/questions/–°++. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤#–ò—Ç–æ–≥–∏|–ò—Ç–æ–≥–∏]]

---
## 1. –î–ª—è —á–µ–≥–æ –Ω–∞–º –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

–ù–∞—á–Ω–µ–º —Å—Ä–∞–∑—É —Å –ø—Ä–∏–º–µ—Ä–∞.

–£ –Ω–∞—Å –µ—Å—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã —Ö–æ—Ç–∏–º –ª–∏–±–æ –≤—ã–π—Ç–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –ª–∏–±–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –¥—Ä—É–≥–æ–º—É —Ç–µ–ª–µ—Ñ–æ–Ω—É. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ Wifi –∏–ª–∏ Bluetooth. –•–æ—Ç—å —ç—Ç–æ –∏ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –æ–Ω–∏ –±—É–¥—É—Ç –æ–±–ª–∞–¥–∞—Ç—å –æ–±—â–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, –∫ –ø—Ä–∏–º–µ—Ä—É, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É, –∏–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.

–í –∫–æ–¥–µ, –Ω—É–∂–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –º—ã —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º —Ç–∞–∫:

```C++
class wifi_t
{

private:

	char _pass[15];
	
public:

	void authenticate();
	void connect();
	
};

class bluetooth_t
{

private:

	char _pass[15];

public:

	void authenticate();
	void connect();
	
};
```

–ü–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–∏–º–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –±—É–¥–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```C++
int main()
{
    wifi_t      *wifi = new wifi_t;
    bluetooth_t *bluetooth = new bluetooth_t;

    int prtcl = selectProtocol();

    if (prtcl == BLUETOOTH)
	{
        bluetooth->authenticate();
        bluetooth->connect();
    }
    else if(prtcl == WIFI)
	{
        wifi->authenticate();
        wifi->connect();
    }

    return 0;
}
```

–ú—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏ –Ω–∞ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∏—Å–∞–ª–∏ –≤—ã—à–µ, –∏ —Ä–µ—à–∏–ª–∏, —á—Ç–æ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ª—É—á—à–µ –∏–∑–±–∞–≤–∏—Ç—å—Å—è. –ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–ø–∏—à–µ–º –Ω–∞—à–∏ –∫–ª–∞—Å—Å—ã, –æ—Ç–Ω–∞—Å–ª–µ–¥–æ–≤–∞–≤ –∏—Ö –æ—Ç –æ–±—â–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `connect` –∏ `authenticate`:

```C++
class protocol_t
{
private:

	uint8_t _type;

public:

	virtual void authenticate() {};
	virtual void connect() {};
};

class wifi_t : public protocol_t
{
private:

	char _pass[15];
	
public:

	void authenticate() override {};
	void connect()      override {};
};

class bluetooth_t : public protocol_t
{
private:

	char _pass[15];
public:

	void authenticate() override {};
	void connect()      override {};
};
```

–ü–æ—ç—Ç–æ–º—É –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –≤—ã–∫–∏–Ω—É—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞:

```C++
void makeConnection(protocol_t *protocol)
{
    protocol->authenticate();
    protocol->connect();
} 

int main()
{
    int prtcl = selectProtocol();

    if (prtcl == WIFI)
    {
        makeConnection(new wifi_t);
    }
    else
    {
        makeConnection(new bluetooth_t);
    }

    return 0;
}
```

–≠—Ç–æ –≤ –ø—Ä–∏–º–µ—Ä–µ –ª–∏—à—å –¥–≤–∞ –º–µ—Ç–æ–¥–∞ `connect` –∏ `authenticate` –∞ –µ—Å–ª–∏ –±—ã –∏—Ö –±—ã–ª–æ –±–æ–ª—å—à–µ? –ê –µ—Å–ª–∏ –±—ã –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ —É –Ω–∞—Å –±—ã–ª–æ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤? –ú—ã –ø—Ä–æ—Å—Ç–æ –∑–∞—Ö–ª–∞–º–∏–ª–∏ –≤–µ—Å—å –Ω–∞—à –∫–æ–¥ –≤—ã–∑–æ–≤–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `virtual` –º—ã –¥–æ–±–∏–ª–∏—Å—å:

- **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã**: —Ç–∞–∫–∏–µ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è, –∫–æ–≥–¥–∞ –∫ –Ω–∏–º –æ–±—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –¢–æ –µ—Å—Ç—å –∏–º–µ–Ω–Ω–æ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ `protocol->connect();` –æ–±—Ä–∞—Ç–∏—Ç—Å—è –ª–∏–±–æ –∫ `wifi_t`, –ª–∏–±–æ –∫ `bluetooth_t` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞**: –º—ã –≤—ã–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ `makeConnection` , –∞ –Ω–µ 2 —Ä–∞–∑–∞ –ø–æ –¥–≤–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–∞–∫ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –º–µ—Ç–æ–¥–æ–≤ –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–π –±–æ–ª—å—à–µ —á–µ–º –¥–≤–∞). –≠—Ç–æ –¥–æ–±–∞–≤–∏–ª–æ –∫–æ–¥—É –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏

---
## 2. –ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?

- –ü—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –∫–∞–∫–æ–π-—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–¥–º–µ–Ω–∏—Ç (–ø—Ä–∏—Ä–∞—Å—Ç–∏—Ç, —Ç–æ–∂–µ —Ö–æ—Ä–æ—à–µ–µ —Å–ª–æ–≤–æ —Ç—É—Ç) –∫–æ–¥ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.
- –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ–º, —Å–∞–º –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `protocol_t` –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –Ω–∞ –æ–¥–∏–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å - `_vptr` . –≠—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É.
- –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏: –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏ —á—Ç–æ –∏–Ω–æ–µ, –∫–∞–∫ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

–ó–Ω–∞—á–∏—Ç, —á—Ç–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `authenticate()` –∫–ª–∞—Å—Å–∞ `protocol_t` :

```C++
protocol_t *protocol;

protocol->authenticate();
```

–†–∞—Å–∫—Ä–æ–µ—Ç –≤ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ:

```C++
(*protocol->_vptr[ 1 ])( protocol );
```

- –ù–µ–±–æ–ª—å—à–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ
    1. `_vptr` - —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É. –î–∞–Ω–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ, –µ—Å–ª–∏ –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ —Å –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –∏–ª–∏ –µ—Å–ª–∏ –æ–Ω —Å–∞–º –æ–±—ä—è–≤–ª—è–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é. –í —Å–ª–æ–∂–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–∫–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π.
    2. `1` - —ç—Ç–æ –∏–Ω–¥–µ–∫—Å –≤ `_vptr[ 1 ]` –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `authenticate()` –≤ –º–∞—Å—Å–∏–≤–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ò–Ω–¥–µ–∫—Å –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –∏ –æ–Ω –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –≤ –¥–µ—Ä–µ–≤–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∑–∞ –¥–∞–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º.
    3. `( protocol )` - —ç—Ç–æ –±—É–¥–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `this` .

–ö–æ–≥–¥–∞ –º—ã –Ω–∞—Å–ª–µ–¥—É–µ–º—Å—è –∫–ª–∞—Å—Å–æ–º `wifi_t` –æ—Ç –∫–ª–∞—Å—Å–∞ `protocol_t` - –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–Ω–æ–π –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π. –ö–∞–∂–¥–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–ª–∏–Ω—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

–ï—Å–ª–∏ –∫–ª–∞—Å—Å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –æ–±—ä—è–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ - –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—ã—Ä–∞—Å—Ç–µ—Ç –Ω–∞ –æ–¥–∏–Ω —Å–ª–æ—Ç. –ò –∞–¥—Ä–µ—Å –Ω–æ–≤–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ–ø–∞–¥–µ—Ç –≤ —ç—Ç–æ—Ç —Å–ª–æ—Ç.

---
## 2.1. –ù–µ–±–æ–ª—å—à–æ–π FAQ –ø—Ä–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã.

**–í–æ–ø—Ä–æ—Å****: –û–¥–Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ 1 –æ–±—ä–µ–∫—Ç, –∏–ª–∏ –Ω–∞ 1 –∫–ª–∞—Å—Å?**

- –û–±—ã—á–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞.
- –ù–æ –ø–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ 1 –∫–ª–∞—Å—Å –∞ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É (`_vptr`) - –æ–¥–∏–Ω –Ω–∞ –æ–±—ä–µ–∫—Ç.
- –ù–µ –∑–∞–±—ã–≤–∞–µ–º, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã, –∑–∞–≤–∏—Ç –æ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

**–í–æ–ø—Ä–æ—Å****: –ì–¥–µ –∏ –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã/—É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ–¥–µ, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º?**

- –ö–æ–¥—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å/–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å–ª–æ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ, –ø–µ—Ä–µ–¥ –∫–æ–¥–æ–º –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
- –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ (offset) –≤ –ø–∞–º—è—Ç–∏. –ò –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç `_vptr` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º.
- –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –Ω–µ–ª—å–∑—è –≤—ã–∑—ã–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ [—Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞](https://stackoverflow.com/questions/962132/calling-virtual-functions-inside-constructors).

**–í–æ–ø—Ä–æ—Å****: –ö–∞–∫ –º—ã —É–∑–Ω–∞–µ—Ç, —á—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å** `**protocol**` **–≤—ã–ø–æ–ª–Ω–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é?**

- –í —Ü–µ–ª–æ–º, –º—ã –Ω–µ –∑–Ω–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø –∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç `protocol` –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `authenticate()`. –ù–æ –º—ã –∑–Ω–∞–µ—Ç, —á—Ç–æ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –∏–º–µ–µ—Çl –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ offset, –∫–æ—Ç–æ—Ä—ã–π –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å –æ–±—ä–µ–∫—Ç–æ–º –∫–ª–∞—Å—Å–∞.
- –ò –∏—Å–ø–æ–ª—å–∑—É—è `_vptr` –º—ã –º–æ–∂–µ–º –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –æ–±—ä–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —É–∫–∞–∑—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `protocol`. –ò –µ—â–µ —Ä–∞–∑ –∏–Ω–¥–µ–∫—Å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ `authenticate()` —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

---
## 3. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —á–∏—Å—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

–ö–æ–≥–¥–∞ –∫–∞–∫–∞—è-—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –∫–∞–∫ —á–∏—Å—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å–ª–æ—Ç —ç—Ç–æ–π —á–∏—Å—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø—É—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –∏–ª–∏ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–º place holder `pure_virtual_called()` . –ò –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ—Ç place holder.

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏–ª —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–æ—Ç–æ–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –∏ –≤ –æ–±—ã—á–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

---
## 4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.

[[üìãTODO]] –¢—É—Ç –≤ –±—É–¥—É—â–µ–º –Ω–∞–¥–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á—à–µ –≤—Å–µ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å. –ü–æ—Å–ª–µ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å–æ [—Å—Ç–∞—Ç—å–µ–π](https://www.vishalchovatiya.com/memory-layout-of-cpp-object/).

–ü—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –≤—Å–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ.

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–∞–∫ –∂–µ –≤—Å–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ:

```C++
struct base1 
{
    int base1_var;

    virtual void base1_func() {}            
    virtual void print()      {}
};

struct base2 
{
    int base2_var;
    
    virtual void base2_func() {}
    virtual void print()      {}
};

struct derived : base1, base2 
{
    int derived_var;

    void print() {}
};
```

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —É –Ω–∞—Å –µ—Å—Ç—å –∫–ª–∞—Å—Å `derived` –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω –æ—Ç –¥–≤—É—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –≤ –æ–±—ä–µ–∫—Ç–µ –∫–ª–∞—Å—Å–∞ `derived` –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã. –û–¥–∏–Ω –¥–ª—è `base1`, –≤—Ç–æ—Ä–æ–π –¥–ª—è `base2`.

–í—ã–≥–ª—è–¥–µ—Ç—å –≤ –ø–∞–º—è—Ç–∏ —ç—Ç–æ –±—É–¥–µ—Ç —Ç–∞–∫:

```C++
|                        |          
|------------------------| <------ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ 
|  base1::base1_var      |         derived
|------------------------|          |--------->|----------------------|
|  base1::_vptr_base1    |----------|          |   type_info derived  |
|------------------------|                     |----------------------|
|  base2::base2_var      |                     |   base1::base1_func  |
|------------------------|                     |----------------------|
|  base2::_vptr_base2    |----------|          |    derived:::print   |
|------------------------|          |          |----------------------|
|  derived::derived_var  |          |          |------GUARD-AREA------|
|------------------------|          |--------->|----------------------|
|                        |                     |   type_info derived  |
|                        |                     |----------------------|
|                        |                     |   base2::base2_func  |
|                        |                     |----------------------|
                                               |    derived::print    |
                                               |----------------------|
```

–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–∑–¥–∞–¥–∏–º —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `base2` , –Ω–æ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞ `derived` .

```C++
base2 *pb = new derived;
```

–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞ `derived` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω –∫ –µ–≥–æ `base2` –ø–æ–¥—ä–æ–±–µ–∫—Ç—É (—Ç–∞–∫ –∫–∞–∫ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã—Ö). –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ä–∞—Å–∫—Ä–æ–µ—Ç —Å—Ç—Ä–æ—á–∫—É –≤—ã—à–µ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```C++
base2* pb = static_cast<base2 *>(new derived());
// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ - " –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞ derived + sizeof(base1)"
```

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏, –ø–æ—Å–ª–µ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:

```C++
        |                        |          
        |------------------------| <------ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ derived
        |  base1::base1_var      |          
        |------------------------|          |--------->|----------------------|
        |  base1::_vptr_base1    |----------|          |   type_info derived  |
pb ---> |------------------------|                     |----------------------|
        |  base2::base2_var      |                     |   base1::base1_func  |
        |------------------------|                     |----------------------|
        |  base2::_vptr_base2    |----------|          |    derived:::print   |
        |------------------------|          |          |----------------------|
        |  derived::derived_var  |          |          |------GUARD_AREA------|
        |------------------------|          |--------->|----------------------|
        |                        |                     |   type_info derived  |
        |                        |                     |----------------------|
        |                        |                     |   base2::base2_func  |
        |                        |                     |----------------------|
                                                       |    derived:::print   |
                                                       |----------------------|
```

–ë–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–æ—á–∫–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –∏ –Ω–µ–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è, —Å–ª–µ–¥—É—é—â–∏–µ –≤–µ—â–∏ –Ω–µ —Å–º–æ–≥–ª–∏ –±—ã –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å:

```C++
pb->base2_var = 5;
```

–ò–ª–∏

```C++
pb->print();
```

–†–∞—Å–∫—Ä–æ–µ—Ç—Å—è –≤

```C++
( * pb->_vptr_base2[ 2 ])( pb );
```

---
## 5. –ó–∞—á–µ–º –Ω–∞–º –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ö–ª–∞—Å—Å—ã/–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ?

–ö–æ–≥–¥–∞ –º—ã –Ω–∞—Å–ª–µ–¥—É–µ–º—Å—è –æ—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, –ø–æ —Å—É—Ç–∏, –º—ã –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—à–∏—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞, –≤—Å—Ç–∞–≤–ª—è—é –≤—Å—é —Ñ—É–Ω–∫—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∞-—Ä–æ–¥–∏—Ç–µ–ª—è. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ - –æ–±—ä–µ–∫—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è _–ø–æ–¥–æ–±—ä–µ–∫—Ç–æ–º_ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, —ç—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–æ–±–ª–µ–º—É –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏, –µ—Å–ª–∏ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –≤–∑–∞–∏–º–Ω—ã–π –∫–ª–∞—Å—Å –∫–∞–∫ –ø–æ–¥–æ–±—ä–µ–∫—Ç –≤ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.

---
## 5.1. –ü—Ä–æ–±–ª–µ–º–∞.

–ù–∞—á–Ω–µ–º —Å—Ä–∞–∑—É —Å –ø—Ä–∏–º–µ—Ä–∞:

```C++
class Top                { public: int top; };
class Left : public Top  { public: int left; };
class Right : public Top { public: int right; };
class Bottom : public Left, public Right { public: int bottom; };
```

–ò–µ—Ä–∞—Ä—Ö–∏—è –∫–ª–∞—Å—Å–æ–≤ –≤—ã—à–µ, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–æ–º–±–æ–≤–∏–¥–Ω–æ–π (–∏–ª–∏ ‚Äúdimond‚Äù).

```C++
    Top
   /   \
Left   Right
   \   /
  Bottom
```

–û–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ `Bottom` –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ `Left` (–∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è `Top`), –∏ –∏–∑ `Right` (–∫–æ—Ç–æ—Ä—ã–π —Ç–æ–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è `Top`)

```C++
Bottom *bot = new Bottom;
bot->top = 5; // –í–æ–∑–Ω–∏–∫–∞–µ—Ç –≤–æ–ø—Ä–æ—Å: –ú—ã –æ–±—â–∞–µ–º—Å—è –∫ –ø–æ–¥–æ–±—ä–µ–∫—Ç—É Top, –∫–æ—Ç–æ—Ä—ã–π 
              //                   –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ Left –∏–ª–∏ –≤ Right?
```

–ü–æ–∫–∞ —ç—Ç–æ –±—ã–ª —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, –∑–∞—á–µ–º –Ω–∞–º –Ω—É–∂–Ω–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.

–í–æ—Ç –µ—â–µ –æ–¥–∏–Ω –ø—Ä–∏–º–µ—Ä:

```C++
Top *t_ptr1 = new Left;
Top *t_ptr2 = new Right;
```

–ò –ø–µ—Ä–≤–æ–µ –∏ –≤—Ç–æ—Ä–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ `Left` –∏ `Right` –≤ —Å–≤–æ–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ø–∞–º—è—Ç–∏ –∏–º–µ–µ—Ç `Top`, –∫–∞–∫ –ø–æ–¥–æ–±—ä–µ–∫—Ç.

–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–∞–ª—å–Ω–µ–π—à–µ –ø–æ–∫–∞–∑–∞–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ–∫–∞–∂–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ `Bottom:`

```C++
|                      |
|----------------------|  <------ Bottom bot;   // –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ Bottom
|    Left::Top::t      |
|----------------------|
|    Left::l           |
|----------------------|
|    Right::Top::t     |
|----------------------|
|    Right::r          |
|----------------------|
|    Bottom::b         |
|----------------------|
|                      |
```

–ê —Ç–µ–ø–µ—Ä—å –≤–æ–ø—Ä–æ—Å, —á—Ç–æ —Å–ª—É—á–∏—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–∏:

```C++
Left *left = new Bottom;
```

–î–∞–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞ `Bottom` –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–ª–∞—Å—Å–∞ `Left`.

–ù–æ —á—Ç–æ —Å–ª—É—á–∏—Ç—Å—è, –µ—Å–ª–∏ –º—ã –∑–∞—Ö–æ—Ç–∏–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å `Left` –≤ `Top`.

```C++
Right  *right = new Bottom;
```

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ `right` –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```C++
|                      |
|----------------------|
|    Left::Top::t      |
|----------------------|
|    Left::l           |
|----------------------|  <------ right;
|    Right::Top::t     |
|----------------------|
|    Right::r          |
|----------------------|
|    Bottom::b         |
|----------------------|
|                      |
|                      |
```

–ò —ç—Ç–æ –ø—Ä–∏–≤–∏–¥–µ–Ω–∏–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∏ –º—ã —Å–º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º `Bottom` —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å `right`.

–ù–æ –µ—Å–ª–∏ –º—ã –∑–∞—Ö–æ—Ç–∏–º –ø—Ä–∏—Ä–∞–≤–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∫ `Bottom`:

```C++
Top* top = new Bottom;
```

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É:

```C++
error: `Top` is an ambiguous base of `Bottom`
```

---
## 5.2. –†–µ—à–µ–Ω–∏–µ.

–ö–∞–∫ —Ä–∞–∑-—Ç–∞–∫–∏ **–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** –∏ –ø—Ä–∏–∑–≤–∞–Ω–æ —Ä–µ—à–∞—Ç—å —Ç–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ —Ä–æ–º–±–æ–≤–∏–¥–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö.

–û–±–æ–∑–Ω–∞—á–∞—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ –∫–ª–∞—Å—Å–µ **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º**, –º—ã –≥–æ–≤–æ—Ä–∏–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É —á—Ç–æ —Ö–æ—Ç–µ–ª–∏ –±—ã —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã, –≤–∏–¥–µ—Ç—å –≤ –Ω–∞—à–µ–º –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–µ.

–í—ã–≥–ª—è–¥–µ—Ç—å –≤ –∫–æ–¥–µ —ç—Ç–æ –±—É–¥–µ—Ç —Ç–∞–∫:

```C++
class Top                        { public: int top; };
class Left  : virtual public Top { public: int left; };
class Right : virtual public Top { public: int right; };
class Bottom : public Left, public Right { public: int bottom; };
```

```C++
Bottom *bot = new Bottom;
bot->t = 5; // —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –Ω–µ –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ.
```

---
## 6. –ö–∞–∫ –∞–¥—Ä–µ—Å–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏?

–ö–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª–µ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–∏–º–µ–µ—Ç –±–∞–∑–æ–≤—ã–π –ø–æ–¥–æ–±—ä–µ–∫—Ç), –∫–∞–∫ –∫–ª–∞—Å—Å `Bottom` , –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –¥–≤–µ –æ–±–ª–∞—Å—Ç–∏:

- –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å.
- –û–±—â–∞—è (—Ä–∞–∑–¥–µ–ª—è–µ–º–∞—è) –æ–±–ª–∞—Å—Ç—å.

–î–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –æ—Å—Ç–∞–µ—Ç—Å—è —Å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–¥–≤–∏–≥–æ–º (offset) –æ—Ç –Ω–∞—á–∞–ª–∞ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö. –ü–æ—ç—Ç–æ–º—É –∫ –æ–±—ä–µ–∫—Ç–∞–º –≤–∫–ª—é—á–∞—é—â–∏–º –≤ —Å–µ–±—è –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ `Left` –∏ `Right` –∏ `Bottom` .

[[üìãTODO]] –û—á–µ–Ω—å –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ.

  
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Ä–∞–∑–¥–µ–ª—è–µ–º–∞—è –æ–±–ª–∞—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥–æ–±—ä–µ–∫—Ç—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –≤—ã–≤–æ–¥–∞ –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—ã–≤–æ–¥–∞. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–±—â–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ.

–ö–∞–∫ —Å–ª–µ–¥—É–µ—Ç –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è, –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –∞ –æ–±—â–∞—è –æ–±–ª–∞—Å—Ç—å - –≤ –∫–æ–Ω—Ü–µ.

–°–º–µ—â–µ–Ω–∏–µ –æ–±—â–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–¥ –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –≤–æ –≤—Ä–µ–º—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞. –°–º–æ—Ç—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∏–∂–µ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.

```C++
|                        |          
|------------------------| <---- Bottom bot; // Bottom object           
|    Left::l             |          
|------------------------|           |------------------| 
|    Left::_vptr_Left    |-----|     |  offset of Top   | // offset starts 
|------------------------|     |-----|------------------| // from left subobject
|    Right::r            |           |    ...           | // = 20
|------------------------|           |------------------|  
|    Right::_vptr_Right  |-----|       
|------------------------|     |     |------------------| 
|    Bottom::b           |     |     |  offset of Top   | // offset starts 
|------------------------|     |-----|------------------| // from right subobject  
|    Top::t              |           |    ...           | // = 12   
|------------------------|           |------------------|                          
|                        |
```

–¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞—è—Å—å –∫ –Ω–∞—à–µ–º—É –≤–æ–ø—Ä–æ—Å—É: ‚Äú–ö–∞–∫ –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º —ç—Ç–æ `bot->t`?‚Äù

```C++
Bottom *bot = new Bottom;
bot->t = 5;
```

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ –∫–æ–¥, –≤–µ—Ä–æ—è—Ç–Ω–æ, –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤:

```C++
Bottom *bot = new Bottom;
(bot + _vptr_Left[-1])->t = 5; 
// If you haven't got this, then consider the above memory map
```

–ò—Ç–∞–∫, –∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, –∞–¥—Ä–µ—Å–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–º–µ—â–µ–Ω–∏–µ (–±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞), —Ö—Ä–∞–Ω—è—â–µ–µ—Å—è –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.

---
## 7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ.

–û–Ω–∞ —Ä–æ–≤–Ω–æ —Ç–∞–∫–∞—è –∂–µ, –∫–∞–∫ –∏ –≤ –æ–±—ã—á–Ω–æ–º –∫–ª–∞—Å—Å–µ. –ú–æ–∂–Ω–æ —á–µ–∫–Ω—É—Ç—å –ø—É–Ω–∫—Ç—ã –≤—ã—à–µ.

[[üìãTODO]] –î–û–ü–ò–°–ê–¢–¨

> [!info] Complications of Using the Virtual Base Class - Vishal Chovatiya  
> In the previous article about How Does Virtual Base Class Works Internally?  
> [https://www.vishalchovatiya.com/complications-of-using-the-virtual-base-class/](https://www.vishalchovatiya.com/complications-of-using-the-virtual-base-class/)  

---
## 8. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã?

–í—Å–ø–æ–º–Ω–∏–º –Ω–∞—à –ø–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä, —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∫ —Å–µ—Ç–∏, –ø—Ä–æ—Å—Ç–æ –¥–æ–ø–∏—à–µ–º –µ—â–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –≤ –∫–ª–∞—Å—Å—ã.

```C++
class protocol_t 
{

private:

	uint8_t *_type;
	
public:

	protocol_t()    { _type = new uint8_t; }
	~protocol_t()   { cout << "~protocol_t"; delete _type; }

	virtual void authenticate(){};
	virtual void connect(){};
};

class wifi_t : public protocol_t 
{

private:

	char *_pass;
	
public:

	wifi_t()       { _pass = new char[15]; }
	~wifi_t()      { cout << "~wifi_t"; delete _pass; }

	virtual void authenticate(){};
	virtual void connect(){};
	
};

class bluetooth_t : public protocol_t 
{

private:

	char *_pass;
	
public:

	bluetooth_t()  { _pass = new char[15]; }
	~bluetooth_t() { cout << "~bluetooth_t"; delete _pass; }

	virtual void authenticate(){};
	virtual void connect(){};
};

void makeConnection(protocol_t *protocol) 
{
    protocol->authenticate();
    protocol->connect();

    delete protocol;
}    

int main() 
{
    int prot_type = rand() % 2; 

    if (prot_type == WIFI)
    {
        makeConnection(new wifi_t);       // [1]
    }
    else
    {
        makeConnection(new bluetooth_t);  // [1]
    }

    return 0;
}
```

–†–∞–∑–±–µ—Ä–µ–º –ø–æ –ø—É–Ω–∫—Ç–∞–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ:

1. –ú—ã —Å–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –∫–ª–∞—Å—Å–∞ `wifi_t` –∏ `bluetooth_t` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞–µ–º –∏—Ö –≤ —Ñ—É–Ω–∫—Ü–∏—é `makeConnection()`.
2. –í—Å–µ –æ–±—ä–µ–∫—Ç—ã —Ç–∏–ø–æ–≤ `wifi_t` , `bluetooth_t` –∏–ª–∏ `protocol_t` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞–º—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ –∫—É—á–µ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è.
3. –ï—Å–ª–∏ –º—ã –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É –≤—ã—à–µ, —Ç–æ –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ—á–∫—É –Ω–∞ –≤—ã—Ö–æ–¥–µ:
    
    ```C++
    ~protocol_t
    ```
    
4. –ù–æ —Ç–∞–∫ –∫–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å —Ç–∏–ø–∞–º `wifi_t` –∏ `bluetooth_t` –∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `delete` —É–¥–∞–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–¥–æ–±—ä–µ–∫—Ç, –∞ –≤—Å–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ —Ç–∞–∫ –∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤–∏—Å–µ—Ç—å –≤ –ø–∞–º—è—Ç–∏ - –Ω–∞ –ª–∏—Ü–æ, —è–≤–Ω–∞—è —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏.
5. –¢–∞–∫ –∫–∞–∫ –≤ –º–æ–º–µ–Ω—Ç —Ä–∞–Ω—Ç–∞–π–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã –Ω–µ –∑–Ω–∞–µ–º —Å –∫–∞–∫–∏–º —Ç–∏–ø–æ–º –æ–±—ä–µ–∫—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ–º, –∫—Ä–æ–º–µ `protocol_t` , –º—ã –∏ –Ω–µ —Å–º–æ–∂–µ–º –≤—ã–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Ç–∏–ø–∞-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞.
   –î–ª—è —Ä–µ—à–µ–Ω–∏—è —Ç–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –∏ –ø—Ä–∏–¥—É–º–∞–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã. –ù—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `virtual` –∫ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª–∞—Å—Å–∞ `protocol_t`:
   
```C++
//...
virtual ~protocol_t() { cout << "~protocol_t"; delete _type; }
//...
```
    
    –¢–µ–ø–µ—Ä—å –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π:
    
```C++
~bluetooth_t 
~protocol_t
```
    
    –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∏ –æ–±—ä–µ–∫—Ç –∏ –ø–æ–¥–æ–±—ä–µ–∫—Ç –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —É–¥–∞–ª–∏–ª–∏—Å—å –∏–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏.

6. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å/—Å—Å—ã–ª–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.**

---
## 9. –ö–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç?

–í–æ–ø—Ä–æ—Å –≤ —Ç–æ–º, –∫–∞–∫ –∂–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞?

–ò —Ç—É—Ç —Å–Ω–æ–≤–∞ –Ω–∞—Å —Å–ø–∞—Å–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É (`_vptr`).

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:

```C++
protocol_t *protocol = new wifi_t;
delete protocol;
```

–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```C++
|                                |          
|--------------------------------| <------ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞
|  protocol_t::_type             |         wifi_t
|--------------------------------|          
|  protocol_t::_vptr_protocol_t  |----------|
|--------------------------------|          |--------|-------------------------|
|  wifi_t::_pass                 |                   |   type_info wifi_t      |
|--------------------------------|                   |-------------------------|
|                                |                   |   wifi_t::authenticate  |
|                                |                   |-------------------------|
|                                |                   |   wifi_t::connect       |
|                                |                   |-------------------------|
|                                |                   |   wifi_t::~wifi_t       |
|                                |                   |-------------------------|
```

–ü–æ—ç—Ç–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—è `delete protocol;` –±—É–¥–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤:

```C++
//...
(*protocol->vptr[3])(protocol);
//...
```

–¢–∞–∫ –∂–µ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –≤–æ —á—Ç–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∫–æ–¥ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ `~wifi_t`

```C++
~wifi_t()
{ 
    cout<<"~wifi_t"; 
    delete this->_pass;

    // –ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º -------------------------------------------
    // –ü–µ—Ä–µ–º–æ–Ω—Ç–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
    this->vptr = vtable_protocol_t; // vtable_protocol_t - —ç—Ç–æ –∞–¥—Ä–µ—Å —Å—Ç–∞—Ç–∏—á–µ–∫–æ–π 
                                    //                     –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
    // –≤—ã–∑–æ–≤–µ–º –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
    protocol_t::~protocol_t(this); 
    // ------------------------------------------------------------------------
}
```

–ü–æ—ç—Ç–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π, —á–µ–º –æ–ø–∏—Å–∞–Ω–æ —É –≤–∞—Å –≤ –∫–æ–¥–µ. –ö–æ–≥–¥–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –≤–∞—à –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–∞–∫–æ–π-—Ç–æ –∫–æ–¥, –æ–Ω –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∏ –¥–æ –∏ –ø–æ—Å–ª–µ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞.

---
## 10. –†–∞–∑–±–æ—Ä –∫–æ–¥–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º.

–ü—Ä–æ—Å—Ç–æ —Ç–∞–∫ –º—ã –Ω–µ —Å–º–æ–∂–µ–º —É–≤–∏–¥–µ—Ç—å –∫–æ–¥, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–µ –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –¥–∏–∑–∞—Å–µ–º–±–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã), –Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –ª–∞–π—Ñ—Ö–∞–∫, —á—Ç–æ –± –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∫–æ–¥ —Ä–µ–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:

```C++
class base
{

public:

	virtual ~base() = 0;

};

class derived : public base
{

public:

	~derived();

};

int main()
{
	base* pbase = new derived;
	delete pbase;
	return 0;
}
```

–ò—Å–ø–æ–ª—å–∑—É—è —á–∏—Å—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä, –º—ã –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â—É—é –æ—à–∏–±–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

```C++
exit status 1
/tmp/main-06bc44.o: In function `derived::~derived()':
main.cpp:(.text._ZN7derivedD2Ev[_ZN7derivedD2Ev]+0x11): undefined reference 
to `base::~base()'
clang: error: linker command failed with exit code 1 (use -v to see invocation)
```

–û—à–∏–±–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—ã—Ç–∞–ª—Å—è –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞. –ù–æ —Ç–∞–∫ –æ–Ω –Ω–µ —Å–æ–∑–¥–∞–Ω - –ª–∏–Ω–∫–µ—Ä –≤–æ–∑–±—É–¥–∏–ª –æ—à–∏–±–∫—É.

## –ò—Ç–æ–≥–∏:

1. –°—Ç–∞–Ω–¥–∞—Ä—Ç C++ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –∞ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –¥–∏—Å–ø–µ—á–µ—Ä–∏–∑–∞—Ü–∏–∏ (—Ç.–µ. –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏).
2. –£–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (`_vptr`) –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –æ–±—ä–µ–∫—Ç—É.
3. –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É(`_vptr`) –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Å–º–µ—â–µ–Ω–∏—è (offset).
4. –ö–æ–¥ –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è `_vptr` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç.
5. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∫–ª–∞—Å—Å—É, –∞ –Ω–µ –∫ –æ–±—ä–µ–∫—Ç—É.
6. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
7. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω—É–∂–Ω—ã –¥–ª—è –∏–∑–±–µ–≥–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ —Ä–æ–º–±–æ–≤–∏–¥–Ω–æ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏.
8. –û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–π –ø–æ–¥–æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–º—è—Ç–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—É—é –Ω–∞ –¥–≤–∞ —Ä–µ–≥–∏–æ–Ω–∞
    1. –†–µ–≥–∏–æ–Ω –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞: —Ç—É—Ç —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
    2. –†–∞–∑–¥–µ–ª—è–µ–º—ã–π —Ä–µ–≥–∏–æ–Ω: —Ç—É—Ç —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã. –î–∞–Ω–Ω—ã–π —Ä–µ–≥–∏–æ–Ω —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –∫–æ–Ω—Ü–µ –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç–∞.
9. –ê–¥—Ä–µ—Å–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ, —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–º–µ—â–µ–Ω–∏—è (offset) (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞), —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.
10. –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å/—Å—Å—ã–ª–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.
11. –í—ã–∑–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏.
12. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞, –≤—Å—Ç–∞–≤–ª—è—è –≤—ã–∑–æ–≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.
13. –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è - —ç—Ç–æ —Ç–∏–ø –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è/—É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –≤ —ç—Ç–æ –≤—Ä–µ–º—è, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è/ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è, –∏–º–µ–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π —Ç–∏–ø.